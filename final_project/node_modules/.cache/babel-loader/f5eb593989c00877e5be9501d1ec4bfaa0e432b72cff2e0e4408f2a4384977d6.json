{"ast":null,"code":"import mlfn from '../common/mlfn';\nimport e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport gN from '../common/gN';\nimport adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport imlfn from '../common/imlfn';\nimport { HALF_PI, EPSLN } from '../constants/values';\n\n/**\n * @typedef {Object} LocalThis\n * @property {number} es\n * @property {number} e0\n * @property {number} e1\n * @property {number} e2\n * @property {number} e3\n * @property {number} ml0\n */\n\n/** @this {import('../defs.js').ProjectionDefinition & LocalThis} */\nexport function init() {\n  if (!this.sphere) {\n    this.e0 = e0fn(this.es);\n    this.e1 = e1fn(this.es);\n    this.e2 = e2fn(this.es);\n    this.e3 = e3fn(this.es);\n    this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);\n  }\n}\n\n/* Cassini forward equations--mapping lat,long to x,y\n  ----------------------------------------------------------------------- */\nexport function forward(p) {\n  /* Forward equations\n      ----------------- */\n  var x, y;\n  var lam = p.x;\n  var phi = p.y;\n  lam = adjust_lon(lam - this.long0, this.over);\n  if (this.sphere) {\n    x = this.a * Math.asin(Math.cos(phi) * Math.sin(lam));\n    y = this.a * (Math.atan2(Math.tan(phi), Math.cos(lam)) - this.lat0);\n  } else {\n    // ellipsoid\n    var sinphi = Math.sin(phi);\n    var cosphi = Math.cos(phi);\n    var nl = gN(this.a, this.e, sinphi);\n    var tl = Math.tan(phi) * Math.tan(phi);\n    var al = lam * Math.cos(phi);\n    var asq = al * al;\n    var cl = this.es * cosphi * cosphi / (1 - this.es);\n    var ml = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, phi);\n    x = nl * al * (1 - asq * tl * (1 / 6 - (8 - tl + 8 * cl) * asq / 120));\n    y = ml - this.ml0 + nl * sinphi / cosphi * asq * (0.5 + (5 - tl + 6 * cl) * asq / 24);\n  }\n  p.x = x + this.x0;\n  p.y = y + this.y0;\n  return p;\n}\n\n/* Inverse equations\n  ----------------- */\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var x = p.x / this.a;\n  var y = p.y / this.a;\n  var phi, lam;\n  if (this.sphere) {\n    var dd = y + this.lat0;\n    phi = Math.asin(Math.sin(dd) * Math.cos(x));\n    lam = Math.atan2(Math.tan(x), Math.cos(dd));\n  } else {\n    /* ellipsoid */\n    var ml1 = this.ml0 / this.a + y;\n    var phi1 = imlfn(ml1, this.e0, this.e1, this.e2, this.e3);\n    if (Math.abs(Math.abs(phi1) - HALF_PI) <= EPSLN) {\n      p.x = this.long0;\n      p.y = HALF_PI;\n      if (y < 0) {\n        p.y *= -1;\n      }\n      return p;\n    }\n    var nl1 = gN(this.a, this.e, Math.sin(phi1));\n    var rl1 = nl1 * nl1 * nl1 / this.a / this.a * (1 - this.es);\n    var tl1 = Math.pow(Math.tan(phi1), 2);\n    var dl = x * this.a / nl1;\n    var dsq = dl * dl;\n    phi = phi1 - nl1 * Math.tan(phi1) / rl1 * dl * dl * (0.5 - (1 + 3 * tl1) * dl * dl / 24);\n    lam = dl * (1 - dsq * (tl1 / 3 + (1 + 3 * tl1) * tl1 * dsq / 15)) / Math.cos(phi1);\n  }\n  p.x = adjust_lon(lam + this.long0, this.over);\n  p.y = adjust_lat(phi);\n  return p;\n}\nexport var names = ['Cassini', 'Cassini_Soldner', 'cass'];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};","map":{"version":3,"names":["mlfn","e0fn","e1fn","e2fn","e3fn","gN","adjust_lon","adjust_lat","imlfn","HALF_PI","EPSLN","init","sphere","e0","es","e1","e2","e3","ml0","a","lat0","forward","p","x","y","lam","phi","long0","over","Math","asin","cos","sin","atan2","tan","sinphi","cosphi","nl","e","tl","al","asq","cl","ml","x0","y0","inverse","dd","ml1","phi1","abs","nl1","rl1","tl1","pow","dl","dsq","names"],"sources":["/Users/jihongkim/Desktop/OSS_Final/node_modules/proj4/lib/projections/cass.js"],"sourcesContent":["import mlfn from '../common/mlfn';\nimport e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport gN from '../common/gN';\nimport adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport imlfn from '../common/imlfn';\nimport { HALF_PI, EPSLN } from '../constants/values';\n\n/**\n * @typedef {Object} LocalThis\n * @property {number} es\n * @property {number} e0\n * @property {number} e1\n * @property {number} e2\n * @property {number} e3\n * @property {number} ml0\n */\n\n/** @this {import('../defs.js').ProjectionDefinition & LocalThis} */\nexport function init() {\n  if (!this.sphere) {\n    this.e0 = e0fn(this.es);\n    this.e1 = e1fn(this.es);\n    this.e2 = e2fn(this.es);\n    this.e3 = e3fn(this.es);\n    this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);\n  }\n}\n\n/* Cassini forward equations--mapping lat,long to x,y\n  ----------------------------------------------------------------------- */\nexport function forward(p) {\n  /* Forward equations\n      ----------------- */\n  var x, y;\n  var lam = p.x;\n  var phi = p.y;\n  lam = adjust_lon(lam - this.long0, this.over);\n\n  if (this.sphere) {\n    x = this.a * Math.asin(Math.cos(phi) * Math.sin(lam));\n    y = this.a * (Math.atan2(Math.tan(phi), Math.cos(lam)) - this.lat0);\n  } else {\n    // ellipsoid\n    var sinphi = Math.sin(phi);\n    var cosphi = Math.cos(phi);\n    var nl = gN(this.a, this.e, sinphi);\n    var tl = Math.tan(phi) * Math.tan(phi);\n    var al = lam * Math.cos(phi);\n    var asq = al * al;\n    var cl = this.es * cosphi * cosphi / (1 - this.es);\n    var ml = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, phi);\n\n    x = nl * al * (1 - asq * tl * (1 / 6 - (8 - tl + 8 * cl) * asq / 120));\n    y = ml - this.ml0 + nl * sinphi / cosphi * asq * (0.5 + (5 - tl + 6 * cl) * asq / 24);\n  }\n\n  p.x = x + this.x0;\n  p.y = y + this.y0;\n  return p;\n}\n\n/* Inverse equations\n  ----------------- */\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var x = p.x / this.a;\n  var y = p.y / this.a;\n  var phi, lam;\n\n  if (this.sphere) {\n    var dd = y + this.lat0;\n    phi = Math.asin(Math.sin(dd) * Math.cos(x));\n    lam = Math.atan2(Math.tan(x), Math.cos(dd));\n  } else {\n    /* ellipsoid */\n    var ml1 = this.ml0 / this.a + y;\n    var phi1 = imlfn(ml1, this.e0, this.e1, this.e2, this.e3);\n    if (Math.abs(Math.abs(phi1) - HALF_PI) <= EPSLN) {\n      p.x = this.long0;\n      p.y = HALF_PI;\n      if (y < 0) {\n        p.y *= -1;\n      }\n      return p;\n    }\n    var nl1 = gN(this.a, this.e, Math.sin(phi1));\n\n    var rl1 = nl1 * nl1 * nl1 / this.a / this.a * (1 - this.es);\n    var tl1 = Math.pow(Math.tan(phi1), 2);\n    var dl = x * this.a / nl1;\n    var dsq = dl * dl;\n    phi = phi1 - nl1 * Math.tan(phi1) / rl1 * dl * dl * (0.5 - (1 + 3 * tl1) * dl * dl / 24);\n    lam = dl * (1 - dsq * (tl1 / 3 + (1 + 3 * tl1) * tl1 * dsq / 15)) / Math.cos(phi1);\n  }\n\n  p.x = adjust_lon(lam + this.long0, this.over);\n  p.y = adjust_lat(phi);\n  return p;\n}\n\nexport var names = ['Cassini', 'Cassini_Soldner', 'cass'];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}