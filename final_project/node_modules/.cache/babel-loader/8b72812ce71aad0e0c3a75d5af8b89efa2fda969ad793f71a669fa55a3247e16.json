{"ast":null,"code":"import gauss from './gauss';\nimport adjust_lon from '../common/adjust_lon';\nimport hypot from '../common/hypot';\n\n/**\n * @typedef {Object} LocalThis\n * @property {number} sinc0\n * @property {number} cosc0\n * @property {number} R2\n * @property {number} rc\n * @property {number} phic0\n */\n\n/** @this {import('../defs.js').ProjectionDefinition & LocalThis} */\nexport function init() {\n  gauss.init.apply(this);\n  if (!this.rc) {\n    return;\n  }\n  this.sinc0 = Math.sin(this.phic0);\n  this.cosc0 = Math.cos(this.phic0);\n  this.R2 = 2 * this.rc;\n  if (!this.title) {\n    this.title = 'Oblique Stereographic Alternative';\n  }\n}\nexport function forward(p) {\n  var sinc, cosc, cosl, k;\n  p.x = adjust_lon(p.x - this.long0, this.over);\n  gauss.forward.apply(this, [p]);\n  sinc = Math.sin(p.y);\n  cosc = Math.cos(p.y);\n  cosl = Math.cos(p.x);\n  k = this.k0 * this.R2 / (1 + this.sinc0 * sinc + this.cosc0 * cosc * cosl);\n  p.x = k * cosc * Math.sin(p.x);\n  p.y = k * (this.cosc0 * sinc - this.sinc0 * cosc * cosl);\n  p.x = this.a * p.x + this.x0;\n  p.y = this.a * p.y + this.y0;\n  return p;\n}\nexport function inverse(p) {\n  var sinc, cosc, lon, lat, rho;\n  p.x = (p.x - this.x0) / this.a;\n  p.y = (p.y - this.y0) / this.a;\n  p.x /= this.k0;\n  p.y /= this.k0;\n  if (rho = hypot(p.x, p.y)) {\n    var c = 2 * Math.atan2(rho, this.R2);\n    sinc = Math.sin(c);\n    cosc = Math.cos(c);\n    lat = Math.asin(cosc * this.sinc0 + p.y * sinc * this.cosc0 / rho);\n    lon = Math.atan2(p.x * sinc, rho * this.cosc0 * cosc - p.y * this.sinc0 * sinc);\n  } else {\n    lat = this.phic0;\n    lon = 0;\n  }\n  p.x = lon;\n  p.y = lat;\n  gauss.inverse.apply(this, [p]);\n  p.x = adjust_lon(p.x + this.long0, this.over);\n  return p;\n}\nexport var names = ['Stereographic_North_Pole', 'Oblique_Stereographic', 'sterea', 'Oblique Stereographic Alternative', 'Double_Stereographic'];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};","map":{"version":3,"names":["gauss","adjust_lon","hypot","init","apply","rc","sinc0","Math","sin","phic0","cosc0","cos","R2","title","forward","p","sinc","cosc","cosl","k","x","long0","over","y","k0","a","x0","y0","inverse","lon","lat","rho","c","atan2","asin","names"],"sources":["/Users/jihongkim/Desktop/OSS_Final/node_modules/proj4/lib/projections/sterea.js"],"sourcesContent":["import gauss from './gauss';\nimport adjust_lon from '../common/adjust_lon';\nimport hypot from '../common/hypot';\n\n/**\n * @typedef {Object} LocalThis\n * @property {number} sinc0\n * @property {number} cosc0\n * @property {number} R2\n * @property {number} rc\n * @property {number} phic0\n */\n\n/** @this {import('../defs.js').ProjectionDefinition & LocalThis} */\nexport function init() {\n  gauss.init.apply(this);\n  if (!this.rc) {\n    return;\n  }\n  this.sinc0 = Math.sin(this.phic0);\n  this.cosc0 = Math.cos(this.phic0);\n  this.R2 = 2 * this.rc;\n  if (!this.title) {\n    this.title = 'Oblique Stereographic Alternative';\n  }\n}\n\nexport function forward(p) {\n  var sinc, cosc, cosl, k;\n  p.x = adjust_lon(p.x - this.long0, this.over);\n  gauss.forward.apply(this, [p]);\n  sinc = Math.sin(p.y);\n  cosc = Math.cos(p.y);\n  cosl = Math.cos(p.x);\n  k = this.k0 * this.R2 / (1 + this.sinc0 * sinc + this.cosc0 * cosc * cosl);\n  p.x = k * cosc * Math.sin(p.x);\n  p.y = k * (this.cosc0 * sinc - this.sinc0 * cosc * cosl);\n  p.x = this.a * p.x + this.x0;\n  p.y = this.a * p.y + this.y0;\n  return p;\n}\n\nexport function inverse(p) {\n  var sinc, cosc, lon, lat, rho;\n  p.x = (p.x - this.x0) / this.a;\n  p.y = (p.y - this.y0) / this.a;\n\n  p.x /= this.k0;\n  p.y /= this.k0;\n  if ((rho = hypot(p.x, p.y))) {\n    var c = 2 * Math.atan2(rho, this.R2);\n    sinc = Math.sin(c);\n    cosc = Math.cos(c);\n    lat = Math.asin(cosc * this.sinc0 + p.y * sinc * this.cosc0 / rho);\n    lon = Math.atan2(p.x * sinc, rho * this.cosc0 * cosc - p.y * this.sinc0 * sinc);\n  } else {\n    lat = this.phic0;\n    lon = 0;\n  }\n\n  p.x = lon;\n  p.y = lat;\n  gauss.inverse.apply(this, [p]);\n  p.x = adjust_lon(p.x + this.long0, this.over);\n  return p;\n}\n\nexport var names = ['Stereographic_North_Pole', 'Oblique_Stereographic', 'sterea', 'Oblique Stereographic Alternative', 'Double_Stereographic'];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}